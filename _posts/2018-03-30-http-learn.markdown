---
layout: post
title: "图解http协议笔记"
date: 2018-03-30 11:49:20
description: 图解http协议笔记
img: http.jpeg  # Add image post (optional)
---
# 1.1-使用http协议访问web  
#### 当我们在网页浏览器的地址拦中输入url时，web页面是如何呈现的？  
    web页面当然不能凭空呈现。根据url，web浏览器从web服务器端获取文件资源(resource)等信息，从而显示出web页面;
    而像这种通过发送请求获取服务器资源的web浏览器等，都可称为客户端(client).  
    web使用一种名为http(HyperText Transfer Protocol,超文本协议)的协议作为规范，完成从客户端到服务器端等一系列的运作流程，可以说，web是建立在http协议上通信的。  
    tips:协议是指规则的约定。  

# 1.2-http协议的诞生  

#### http为知识共享而生。  
    http/0.9于1990年问世；
    http/1.0于1996正式作为标准发布；
    http/1.1发布于1997年，是目前主流的http协议版本  

# 1.3-网络基础TCP/IP  

    我们通常使用的网络(包括互联网)是在TCP/IP协议族的基础上运作的，而http属于他的一个子集。  

#### TCP/IP协议族  

    计算机与网络设备要相互通信，双方就必须基于相同的方法(协议)。
    把与互联网相关联的协议集合起来总称为TCP/IP。  

#### TCP/IP的分层管理     

    TCP/IP协议族里最重要的一点就是分层。TCP/IP协议族按层次分别分为四层：应用层/传输层/网络层和数据链路层。  

#### TCP/IP协议族各层的作用  

##### 应用层  

    应用层决定了向用户提供应用服务时通信的活动。
    TCP/IP协议族内预存了各类通用的应用服务。比如，FTP(File Transfer Protocol,文件传输协议)和DNS(Domain Name System,域名系统)服务；
    HTTP也处于该层。  

##### 传输层  

    传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。
    在传输层有两个性质不同的协议：TCP(transmissin control protocol,传输控制协议)和UDP(user data protocol,用户数据报协议)。  

##### 网络层(又名网络互连层)  

    网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径(所谓的传输路线)到达对方的计算机，并把数据包传输给对方。
    与对方计算机通过多台计算机或网络设备进行数据传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。  

##### 链路层(又名数据链路层，网络接口层)   

    用来处理连接网络的硬件部分。  

#### TCP/IP通信传输流   

    这较为复杂，需要理解  

# 1.4-与http关系密切的协议：Ip/    

#### 确保可靠性的TCP协议   

    按层次分，TCP位于传输层，提供可靠的字节流服务。
    所谓的字节流服务(byte stream service)是指：为了方便传输，把大块数据分割成以报文段为单位的数据包进行管理。
    而可靠的传输服务是指，能够把数据准确的发送给对方。  

#### 确保数据能到达目标    

    为了准确无误的将数据发送到目标处，TCP采用了三次握手策略：
    发送端首先发送一个带有SYN标志的数据包给对方，接收方收到后
    回传一个带有SYN/ACK标志的数据包以示传达确认信息；
    最后发送方再回传一个带有ACK标志的数据包，代表握手结束。
    假如中途传输中断，TCP协议会再次以相同的顺序发送相同的数据包。  

# 1.5-负责域名解析的DNS服务  

    DNS(domain name system)服务是和http协议一样，位于应用层的协议。
    它提供域名到Ip地址之间的解析服务。
    假如我们要访问一个页面，在输入域名之后，dns服务会把域名解析为ip地址返回给客户端，客户端再向该ip地址发送请求。 

# 1.6-各种协议与HTTP协议的关系  

    了解IP协议/TCP协议和DNS服务在使用HTTP协议的通信过程中发挥的作用。  
# 1.7-URI和URL  
#### URI(uniform resource identifier,统一资源标识符)  
    URI是由某个协议方案表示的资源的定位标识符，协议方案是指访问资源所使用的协议类型名称。  
    例如：采用http协议时，协议方案就是http。 
    URI用字符串表示某一互联网资源，而URL表示资源的地点(互联网上所处的位置)，可见URL是URI的子集。  
# 2.1-HTTP协议用于客户端和服务器端之间的通信  
    http协议和tcp/ip协议族内的其他众多的协议相同，用于客户端和服务器端之间的通信。  
    请求资源的一端称为客户端，而提供资源响应的一端称为服务器端  
    在两台计算机之间使用http协议通信时，在一条通信线路上，必定有一端是客户端，一端是服务器端，http协议能够明确区分哪一方是客户端，哪一方是服务器端  
# 2.2-通过请求和响应的交换达成通信  
    http协议规定，请求从客户端发出，最后服务器端响应该请求并返回。
#### 案例分析  
    GET /index.html HTTP/1.1  
    Host: hackr.jp  
    起始行开头的GET表示请求访问服务器的类型，称为方法(method).  
    随后的字符串/index.html指明了请求访问的资源对象，也叫请求URI(request-URI).  
    最后的HTTP/1.1，即HTTP协议的版本号，用来提示客户端使用的HTTP协议功能。  
    综合来看，这段请求内容的意思是：请求访问某台HTTP服务器上的/index.html资源。  
    请求报文是由请求方法/请求URI/协议版本/可选的请求首部字段和内容实体构成的。  
    接收到请求的服务器，会将请求内容的结果以响应的形式返回：  
    HTTP/1.1 200 OK
    Date, Tue, 10 Jul 2012 06:50:15 GMT
    Content-Length: 362
    Content-Type: text/html

    <html>
    ......  
    在起始行开头的HTTP/1.1表示服务器对应的HTTP版本  
    紧挨着的200 OK表示请求的处理结果的状态码和原因短语。下一行显示了创建响应的日期时间，是首部字段内的一个属性。  
    接着以一空行分隔，之后的内容称为资源实体的主体；  
    响应报文基本上由协议版本/状态码/用以解释状态码的原因短语/可选的响应首部字段以及实体主体构成。  
# 2.3-HTTP是不保存状态的协议  
    HTTP是一种不保存状态，即无状态(stateless)协议;
    HTTP协议自身不对请求和响应之间的通信状态进行保存；  
    也就是说在HTTP这个级别，协议对于发送过的请求和响应都不做持久化处理。  
# 2.4-请求URI定位资源  
    HTTP协议使用URI定位互联网上的资源。正是因为URI的特定功能，在互联网上任意位置的资源都能访问到。  
    当客户端请求访问资源而发送请求时，URI需要将最为请求报文中的请求URI包含在内。请求URI的方式有很多。
    例如：URI为完整到请求URI GET http://hackr.jp/index.html HTTP/1.1  
    例如：在首部字段Host中写明网络域名或IP地址 GET /index.html HTTP/1.1 HOST: hackr.jp  
# 2.5-告知服务器意图到HTTP方法  
    GET: 获取资源  
    POST: 传输实体主体  
    PUT: 传输文件  
    HEAD: 获取报文首部  
    DELETE: 删除文件  
    OPTIONS: 询问支持的方法  
    TRACE: 追踪路径